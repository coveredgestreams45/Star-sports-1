<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CricxCrate ‚Äì Live Cricket</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  background:#eef2f7;
  color:#111827;
}

.main{
  max-width:420px;
  margin:0 auto;
  padding:14px;
}

.card{
  background:#fff;
  border-radius:22px;
  padding:16px;
  margin-bottom:16px;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
}

.header{
  text-align:center;
  font-weight:600;
  font-size:16px;
}

.player-card{
  padding:0;
  overflow:hidden;
  background:#000;
}

/* Updated for Iframe responsiveness */
.player-wrap{
  position:relative;
  aspect-ratio:16/9;
  width: 100%;
}

.player-wrap iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border: none;
}

.section-title{
  text-align:center;
  font-weight:600;
  margin-bottom:12px;
}

.btn-row,.share-row{
  display:flex;
  gap:12px;
  justify-content:center;
}

.btn{
  flex:1;
  padding:12px;
  border-radius:16px;
  font-weight:600;
  border:none;
  cursor:pointer;
  text-decoration:none;
  text-align:center;
  font-size:14px;
  transition: opacity 0.2s;
}

.btn:active {
  opacity: 0.8;
}

.btn.primary{
  background:#ff6b6b;
  color:#fff;
}

.btn.secondary{
  background:#fff;
  color:#ff6b6b;
  border:1px solid #ffd1d1;
}

.tg-banner{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  font-weight:600;
  text-decoration:none;
  color:inherit;
}

.tg-banner img{
  width:28px;
}

/* POPUP */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(6px);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.popup-box{
  background:rgba(255,255,255,.9);
  padding:26px 22px;
  border-radius:26px;
  text-align:center;
  width:90%;
  max-width:340px;
}

.popup-content{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* TOAST NOTIFICATION */
#toast {
  visibility: hidden;
  min-width: 200px;
  background-color: #333;
  color: #fff;
  text-align: center;
  border-radius: 50px;
  padding: 12px;
  position: fixed;
  z-index: 1000;
  left: 50%;
  bottom: 30px;
  transform: translateX(-50%);
  font-size: 14px;
}

#toast.show {
  visibility: visible;
  animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

@keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
@keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
</style>
</head>

<body>

<div id="toast">Link copied! üèè</div>

<div class="popup" id="popup">
  <div class="popup-box">
    <h2>Welcome ü§©</h2>
    <p>Join Telegram for live match updates</p>
    <div class="popup-content">
      <a class="btn primary" href="https://t.me/CricxCrate" target="_blank">Join @CricxCrate</a>
      <button class="btn secondary" onclick="closePopup()">Already Joined</button>
    </div>
  </div>
</div>

<div class="main">

  <div class="card header">CricxCrate ‚Ä¢ Star Sports 1HD Hindi</div>

  <div class="card player-card">
    <div class="player-wrap">
      <iframe 
        src="https://cricketstan.github.io/Channel-13" 
        allow="autoplay; encrypted-media" 
        allowfullscreen>
      </iframe>
    </div>
  </div>

  <div class="card">
    <div class="section-title">‚ö°Ô∏è Join Telegram For Live Updates</div>
    <div class="btn-row">
      <a class="btn primary" href="https://t.me/CricxCrate" target="_blank">Join Telegram</a>
      <a class="btn secondary" href="https://t.me/CricxCratelinks" target="_blank">All Channels</a>
    </div>
  </div>

  <div class="card">
    <div class="section-title">‚ù§Ô∏è Share & Support</div>
    <div class="share-row">
      <button class="btn primary" onclick="sharePage()">Share</button>
      <button class="btn secondary" onclick="copyLink()">Copy Link</button>
    </div>
  </div>

  <a href="https://t.me/CricxCrate" target="_blank" class="card tg-banner">
    <img src="https://telegram.org/img/t_logo.png">
    Join @CricxCrate
  </a>

</div>

<script>
/* POPUP LOGIC */
const popup = document.getElementById("popup");

function closePopup(){
  popup.style.display="none";
  sessionStorage.setItem("joined","yes");
}

if(sessionStorage.getItem("joined")==="yes"){
  popup.style.display="none";
}

/* SHARE & COPY LOGIC */
function showToast(msg) {
  const x = document.getElementById("toast");
  x.innerHTML = msg;
  x.className = "show";
  setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
}

async function sharePage() {
  if (navigator.share) {
    try {
      await navigator.share({
        title: 'CricxCrate Live',
        text: 'Watch Live Cricket on CricxCrate!',
        url: window.location.href
      });
    } catch (err) {
      console.log("Share failed or cancelled");
    }
  } else {
    copyLink();
  }
}

function copyLink() {
  const url = window.location.href;
  navigator.clipboard.writeText(url).then(() => {
    showToast("Link copied to clipboard! üèè");
  }).catch(err => {
    showToast("Failed to copy link.");
  });
}
</script>

</body>
</html>
